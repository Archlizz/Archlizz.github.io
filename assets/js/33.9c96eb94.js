(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{592:function(a,s,t){"use strict";t.r(s);var n=t(1),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"fox服务器安装与维护"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fox服务器安装与维护"}},[a._v("#")]),a._v(" Fox服务器安装与维护")]),a._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#_1-fox服务器介绍"}},[a._v("1 Fox服务器介绍")])]),t("li",[t("a",{attrs:{href:"#_2-fox服务器安装"}},[a._v("2 Fox服务器安装")]),t("ul",[t("li",[t("a",{attrs:{href:"#_2-1-java运行环境安装"}},[a._v("2.1 Java运行环境安装")])]),t("li",[t("a",{attrs:{href:"#_2-2-新增用户"}},[a._v("2.2 新增用户")])]),t("li",[t("a",{attrs:{href:"#_2-3-设置用户环境变量"}},[a._v("2.3 设置用户环境变量")])]),t("li",[t("a",{attrs:{href:"#_2-4-安装应用"}},[a._v("2.4 安装应用")])])])]),t("li",[t("a",{attrs:{href:"#_3-系统维护"}},[a._v("3 系统维护")]),t("ul",[t("li",[t("a",{attrs:{href:"#_3-1-目录结构"}},[a._v("3.1 目录结构")])]),t("li",[t("a",{attrs:{href:"#_3-2-服务配置"}},[a._v("3.2 服务配置")])]),t("li",[t("a",{attrs:{href:"#_3-3-服务启动-关闭"}},[a._v("3.3 服务启动&关闭")])]),t("li",[t("a",{attrs:{href:"#_3-4-查看进程状态"}},[a._v("3.4 查看进程状态")])])])]),t("li",[t("a",{attrs:{href:"#_4-版本管理"}},[a._v("4 版本管理")]),t("ul",[t("li",[t("a",{attrs:{href:"#_4-1-插件版本管理"}},[a._v("4.1 插件版本管理")])]),t("li",[t("a",{attrs:{href:"#_4-2-服务资源更新"}},[a._v("4.2 服务资源更新")])]),t("li",[t("a",{attrs:{href:"#_4-3-移动app资源更新"}},[a._v("4.3 移动APP资源更新")])])])]),t("li",[t("a",{attrs:{href:"#_5-日志查看"}},[a._v("5 日志查看")])]),t("li",[t("a",{attrs:{href:"#_6-q-a"}},[a._v("6 Q&A")]),t("ul",[t("li",[t("a",{attrs:{href:"#_6-1-java运行环境安装与维护"}},[a._v("6.1 Java运行环境安装与维护")])])])])])]),t("p"),a._v(" "),t("h2",{attrs:{id:"_1-fox服务器介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-fox服务器介绍"}},[a._v("#")]),a._v(" 1 Fox服务器介绍")]),a._v(" "),t("p",[a._v("Fox Sever可以用于前端服务器，同时也可用做版本服务器。")]),a._v(" "),t("h2",{attrs:{id:"_2-fox服务器安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-fox服务器安装"}},[a._v("#")]),a._v(" 2 Fox服务器安装")]),a._v(" "),t("h3",{attrs:{id:"_2-1-java运行环境安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-java运行环境安装"}},[a._v("#")]),a._v(" 2.1 Java运行环境安装")]),a._v(" "),t("p",[a._v("检查java运行环境的版本，要求是1.6.31以上。若java环境未安装或版本不正确，请参考后面章节进行java环境安装。")]),a._v(" "),t("blockquote",[t("p",[a._v("检查方法为：java –version")])]),a._v(" "),t("h3",{attrs:{id:"_2-2-新增用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-新增用户"}},[a._v("#")]),a._v(" 2.2 新增用户")]),a._v(" "),t("ol",[t("li",[a._v("创建新用户fox")])]),a._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# useradd fox")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[a._v("设置和修改用户fox口令")])]),a._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# passwd fox")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("根据系统的提示信息输入两次密码，系统会显示：\npasswd ：:all authentication tokens updated successfully")]),a._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[a._v("修改用户信息usermod")]),a._v(" "),t("li",[a._v("新建组群groupadd\n也可以通过，直接组合命令新建")])]),a._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#useradd -m -d /home/fox -g fox fox")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-3-设置用户环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-设置用户环境变量"}},[a._v("#")]),a._v(" 2.3 设置用户环境变量")]),a._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(". 修改用户环境变量，服务器不同，用户环境变量文件不同\n    Linux: “.bash_profile ”\n    AIX:“.profile”\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(". 返回到用户根目录\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$cd")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(". 修改文件\n    "),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$vi")]),a._v(" .bash_profile\n    添加下面内容\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/java/jdk1.6.0_35\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$JAVA_HOME")]),a._v("/bin:"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/bin\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("LANG")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("zh_CN.utf8\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br")])]),t("h3",{attrs:{id:"_2-4-安装应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-安装应用"}},[a._v("#")]),a._v(" 2.4 安装应用")]),a._v(" "),t("ol",[t("li",[a._v("使用fox用户将fox.tar上传到服务器/home/fox目录下，以实际拿到的版本为准；")]),a._v(" "),t("li",[a._v("解压缩fox.tar\n在命令提示符下输入：\ntar -xvf fox.tar 解包\nchmod –R 755 bip  修改文件权限")])]),a._v(" "),t("h2",{attrs:{id:"_3-系统维护"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-系统维护"}},[a._v("#")]),a._v(" 3 系统维护")]),a._v(" "),t("h3",{attrs:{id:"_3-1-目录结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-目录结构"}},[a._v("#")]),a._v(" 3.1 目录结构")]),a._v(" "),t("p",[a._v("Fox服务端的目录结构为：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    -configuration 配置文件目录\n    \t-config.ini   eclipse插件配置信息，一般情况无需修改\n    \t-server.properties  服务端参数配置，服务器启动时加载\n       \t-logback.xml 日志配置文件，服务器启动时加载\n       \t-license.lic  license许可文件，服务器启动时判断许可\n       \t-jdbc.xml   数据库配置文件，服务器启动时加载\n    -plugins   服务端插件目录\n    -update    客户端更新目录\n    \t-app APP资源更新目录\n    \t-plugins 客户端插件，客户端插件更新时使用\n    -workspace 交易工程存放目录\n    -log 日志目录\n    -startup.sh  服务端启动脚本，Linux、AIX系统使用\n    -startup.bat  服务端启动脚本，Windows系统使用\n    -shutdown.sh  服务端关闭脚本，Linux、AIX系统使用\n    -shutdown.bat 服务端关闭脚本，Windows系统使用\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br")])]),t("h3",{attrs:{id:"_3-2-服务配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-服务配置"}},[a._v("#")]),a._v(" 3.2 服务配置")]),a._v(" "),t("p",[a._v("服务的配置在文件 configuration/server.properties中，文件中的常用配置项如下：")]),a._v(" "),t("div",{staticClass:"language-ini line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#是否热部署")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("cn.com.bankit.phoenix.resource/hotDeploy")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" true")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#激活工程名")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("cn.com.bankit.phoenix.resource/activeProjectNames")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" fox_document,fox_base,ninetales,fox_mpa")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#socket服务端口")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("cn.com.bankit.phoenix.communication.server/port")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v("9100")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#http服务端口(内部)")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("cn.com.bankit.phoenix.jetty/http_port")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v("9400")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#http服务端口(外部)")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("cn.com.bankit.phoenix.jetty/outer_http_port")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v("9700")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#端口偏移量")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("Platform/portOffset")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v("0")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#核心线程数")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("Platform/corePoolSize")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" 30")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#最大线程数")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("Platform/maxPoolSize")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" 50")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#线程队列大小")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("Platform/queueSize")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v(" 0")]),a._v("\n    \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#安全配置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#cn.com.bankit.phoenix.security/scope=[http]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("cn.com.bankit.phoenix.security/zmk")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v("6118AF701DA14AC28B3FFAC441768500092761B93303C86A5640720AF528A2F6B02FAA60414FF5C5699E64EBD9EF0750AB283C677A3364DFF5D7FA64FD352634")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[a._v("cn.com.bankit.phoenix.security/zpk")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),a._v("6A6C01CA5D3EF646E5ADDF88C7BAFB187863E700EAF01E5D9DE6A9B5117BDE24869B5B2F3AA5304C46675EA63441813A89C822E7A60E58EF8364B8C2134DDDB951A3AF6020AE8C808D7CCCECAFF44BB9DC592F499710CAD706D4BA5DDD2E7DF2CDE32A08A0BD1615714ACA911D39CF5CABE7E5ABD3843AB7CA98B4F8F8F75E7C70743E1ACA6C8467F43A66C68DEB5827FC759A1A99863D1371CD6276BB45A324CC343BF600A97CCAC8020F0B5366DA28A272A6F4CF92016C7E8CBB3E045A90E5040EA59D9F26524B7F8F6D6C5E29F5BEE56653A504ED3A55F0DD97D4A603C35998EFDAF2D16288DE8045D56F7F1A32020EEB05A6B1E1F2A3553B2F68B622328E")]),a._v("\n    \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#jetty web服务是否启用SSL")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#cn.com.bankit.phoenix.jetty/sslEnabled=true")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br"),t("span",{staticClass:"line-number"},[a._v("15")]),t("br"),t("span",{staticClass:"line-number"},[a._v("16")]),t("br"),t("span",{staticClass:"line-number"},[a._v("17")]),t("br"),t("span",{staticClass:"line-number"},[a._v("18")]),t("br"),t("span",{staticClass:"line-number"},[a._v("19")]),t("br"),t("span",{staticClass:"line-number"},[a._v("20")]),t("br"),t("span",{staticClass:"line-number"},[a._v("21")]),t("br"),t("span",{staticClass:"line-number"},[a._v("22")]),t("br"),t("span",{staticClass:"line-number"},[a._v("23")]),t("br"),t("span",{staticClass:"line-number"},[a._v("24")]),t("br"),t("span",{staticClass:"line-number"},[a._v("25")]),t("br"),t("span",{staticClass:"line-number"},[a._v("26")]),t("br"),t("span",{staticClass:"line-number"},[a._v("27")]),t("br")])]),t("h3",{attrs:{id:"_3-3-服务启动-关闭"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-服务启动-关闭"}},[a._v("#")]),a._v(" 3.3 服务启动&关闭")]),a._v(" "),t("p",[a._v("服务启停的脚本在应用的根目录下")]),a._v(" "),t("p",[t("strong",[a._v("服务启动")])]),a._v(" "),t("blockquote",[t("p",[a._v("linux&aix：\nsh startup.sh")])]),a._v(" "),t("blockquote",[t("p",[a._v("windows：\n./startup.bat")])]),a._v(" "),t("p",[t("strong",[a._v("服务关闭")])]),a._v(" "),t("blockquote",[t("p",[a._v("linux&aix：\nsh shutdown.sh")])]),a._v(" "),t("blockquote",[t("p",[a._v("windows：\n./shutdown.bat")])]),a._v(" "),t("h3",{attrs:{id:"_3-4-查看进程状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-查看进程状态"}},[a._v("#")]),a._v(" 3.4 查看进程状态")]),a._v(" "),t("p",[a._v("使用命令“ps –ef |grep java |grep fox”可以查询系统中所有通过java命令启动的进程。当Fox Server工作正常的时候，调用命令能够查询到下图中的结果。集群服务中，各个Fox Server进程分别使用“-Dbips=fox_no1”，“-Dbips=fox_no2”进行标识。如果查询结果没有进程，或者缺少了某一个进程，说明运行情况异常，有可能是启动故障或者运行出错，需要查找具体原因。")]),a._v(" "),t("h2",{attrs:{id:"_4-版本管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-版本管理"}},[a._v("#")]),a._v(" 4 版本管理")]),a._v(" "),t("h3",{attrs:{id:"_4-1-插件版本管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-插件版本管理"}},[a._v("#")]),a._v(" 4.1 插件版本管理")]),a._v(" "),t("p",[a._v("Fox Server使用的osgi机制，因此服务的功能是通过插件的形式实现的。我们通过插件新增，删除，替换等同步操作，实现服务端的自动升级或版本回退。\n"),t("strong",[a._v("更新步骤：")])]),a._v(" "),t("ol",[t("li",[a._v("将需要更新的插件放到服务端应用（BIPS）根目录中/plugins/目录下；")]),a._v(" "),t("li",[a._v("重启服务端，插件更新完成。")])]),a._v(" "),t("h3",{attrs:{id:"_4-2-服务资源更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-服务资源更新"}},[a._v("#")]),a._v(" 4.2 服务资源更新")]),a._v(" "),t("p",[a._v("服务资源更新：服务资源，如图片，数据源，lib库，服务等易资源，可通过新增，覆盖，删除服务端应用(Fox)根目录中/workspace/工程名/目录下相应的资源文件实现更新。\n"),t("strong",[a._v("更新服务资源：")]),a._v("\n在生产环境中，所有需要更新的交易资源会被打成一个jar包，将jar包解压到服务端应用根目录下即可。")]),a._v(" "),t("h3",{attrs:{id:"_4-3-移动app资源更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-移动app资源更新"}},[a._v("#")]),a._v(" 4.3 移动APP资源更新")]),a._v(" "),t("p",[a._v("移动APP资源目录在服务端应用(Fox)根目录中/upate/app下面，结构如下")]),a._v(" "),t("pre",[t("code",[a._v("-update/app APP资源跟目录\n    -workspace  web资源目录\n    -configuration APP端参数配置\n    -apk android APK更新目录\n")])]),a._v(" "),t("p",[t("strong",[a._v("APP端配置说明")]),a._v("\napp的配置文件路径为configuraion/client.properties")]),a._v(" "),t("pre",[t("code",[a._v("#交易资源地址\nweb/mainApp=fox\n#回退键事件\n#web/backAction=javascript:fox.custom.logout()\n#是否启用更新\nversion/updateEnabled=true\n#版本服务器地址\nversion/address=http://192.144.128.218:9291\n#版本服务器连接策略\nversion/connectPolicy=random\n#版本服务器更新策略\nversion/updatePolicy=options\n#更新任务(requestPath,savePath,needRestart)\nversion/updateTasks = [update/app/configuration/client.properties,configuration/client.properties,true];fox\n#APK更新任务(requestPath,savePath)\nversion/apkUpdateTasks=[update/app/apk,version/apk]\n")])]),a._v(" "),t("p",[t("strong",[a._v("更新步骤：")])]),a._v(" "),t("ol",[t("li",[a._v("将需要更新的APP端资源根目录中/update/app/目录下；")])]),a._v(" "),t("h2",{attrs:{id:"_5-日志查看"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-日志查看"}},[a._v("#")]),a._v(" 5 日志查看")]),a._v(" "),t("p",[a._v("###5.1服务端日志\n服务端日志放置在服务端应用根目录中的./log目录下。服务端日志包括应用日志，通信相关日志（communication.log）、上下文相关日志(context.log)、错误日志(error.log)、资源服务相关日志(httpserver.log)、数据库相关日志(jdbc.log)、监控相关日志(monitor.log)、一般日志(out.log)、统一配置服务日志(preference.log)、资源相关日志(resource.log)、服务日志（server.log）、交易日志(trade.log)。")]),a._v(" "),t("h2",{attrs:{id:"_6-q-a"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-q-a"}},[a._v("#")]),a._v(" 6 Q&A")]),a._v(" "),t("h3",{attrs:{id:"_6-1-java运行环境安装与维护"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-java运行环境安装与维护"}},[a._v("#")]),a._v(" 6.1 Java运行环境安装与维护")]),a._v(" "),t("h4",{attrs:{id:"_6-1-1-linux系统下java运行环境安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-1-linux系统下java运行环境安装"}},[a._v("#")]),a._v(" 6.1.1 Linux系统下Java运行环境安装")]),a._v(" "),t("p",[a._v("1.下载安装文件：\nhttp://www.oracle.com/technetwork/java/javase/downloads/jre6-downloads-1637595.html\n2.切换至归档目录，执行：\n./ jre-6u33-linux-i586.bin\n如果显示执行权限不够，请在执行前先确定执行权限；\nchmod x  jre-6u33-linux-i586.bin\n或直接用：\nsh jre-6u33-linux-i586.bin 来执行。\n3.在看完License的宣告后，当然是yes,此时就会开始解压，完成后在相同的路径下，会出现一个归档文件，jre-6u33-linux-i586.rpm\n4.接着再执行: rpm –ivh jre-6u33-linux-i586.rpm\n此时就会进行安装。若出错误信息，说有dependence的问题，则加入--nodeps的option即可。\nrpm – ivh jre-6u33-linux-i586.rpm –nodeps\n5.完成后，JDK被安装在 /usr/java/jre1.6.33\n6.设置路径：export PATH=/usr/java/jre1.6.33/bin:$PATH\n7.设置环境变量")]),a._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#vi /etc/profile")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/java/jre1.6.33/bin:"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/java/jre1.6.33\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("CLASSPATH")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/java/jre1.6.33/lib/tools.jar\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")]),a._v(" JAVA_HOME CLASSPATH\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])]),t("h4",{attrs:{id:"_6-1-2-linux系统下java版本切换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-2-linux系统下java版本切换"}},[a._v("#")]),a._v(" 6.1.2 Linux系统下Java版本切换")]),a._v(" "),t("pre",[t("code",[a._v("如果想更换系统环境变量中的java版本号，使用alternatives命令改变当前java javac指向的连接地址即可完成。\nalternatives命令所在位置/usr/sbin\n")])]),a._v(" "),t("p",[a._v("使用示例如下：\n[root@localhost sbin]# ./alternatives  –config  java\n共有 2 个程序提供“java”。\n选择    命令\n-----------------------------------------------\n*+")]),a._v(" "),t("pre",[t("code",[a._v("1           /usr/lib/jvm/jre-1.4.2-gcj/bin/java\n2           /usr/java/jdk1.6.0_11/bin/java\n按 Enter 来保存当前选择[+]，或键入选择号码：2     \n")])])])}),[],!1,null,null,null);s.default=e.exports}}]);