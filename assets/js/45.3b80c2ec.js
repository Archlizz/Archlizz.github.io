(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{608:function(a,t,e){"use strict";e.r(t);var s=e(1),n=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"fox2-0前端框架-插件-device接口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fox2-0前端框架-插件-device接口"}},[a._v("#")]),a._v(" Fox2.0前端框架-插件-Device接口")]),a._v(" "),e("hr"),a._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#_1-外设接口"}},[a._v("1.外设接口")]),e("ul",[e("li",[e("a",{attrs:{href:"#_1-1-相机"}},[a._v("1.1 相机")])]),e("li",[e("a",{attrs:{href:"#_1-2-录音"}},[a._v("1.2 录音")])]),e("li",[e("a",{attrs:{href:"#_1-3-录像"}},[a._v("1.3 录像")])]),e("li",[e("a",{attrs:{href:"#_1-4-签名"}},[a._v("1.4 签名")])]),e("li",[e("a",{attrs:{href:"#_1-6-ocr"}},[a._v("1.6 OCR")])]),e("li",[e("a",{attrs:{href:"#_1-7-人脸识别"}},[a._v("1.7 人脸识别")])])])])])]),e("p"),a._v(" "),e("h2",{attrs:{id:"_1-外设接口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-外设接口"}},[a._v("#")]),a._v(" 1.外设接口")]),a._v(" "),e("p",[a._v("fox.device\n提供外设访问能力，如相机、麦克风等")]),a._v(" "),e("p",[e("strong",[a._v("API:")])]),a._v(" "),e("ul",[e("li",[a._v("call 外设调用")])]),a._v(" "),e("p",[a._v("参数：")]),a._v(" "),e("ul",[e("li",[a._v("type：外设类型")]),a._v(" "),e("li",[a._v("action：动作 params：参数")]),a._v(" "),e("li",[a._v("callback：回调函数\ncallbck(code,message,data)，回调参数code：0-成功，1-取消，2-错误，message：错误信息，data：回调结果")])]),a._v(" "),e("h3",{attrs:{id:"_1-1-相机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-相机"}},[a._v("#")]),a._v(" 1.1 相机")]),a._v(" "),e("p",[e("strong",[a._v("type：camera")])]),a._v(" "),e("p",[e("strong",[a._v("API:")]),a._v("\nfox.device.callCamera(cameraType,callback,params)\n参数：")]),a._v(" "),e("ul",[e("li",[a._v("cameraType: front-前置摄像头，back-后置摄像头")]),a._v(" "),e("li",[a._v("callback：回调函数\ncallbck(code,message,data)，回调参数code：0-成功，1-取消，2-错误，message：错误信息，data：回调结果")]),a._v(" "),e("li",[a._v("params：参数")])]),a._v(" "),e("h4",{attrs:{id:"前置拍照"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前置拍照"}},[a._v("#")]),a._v(" 前置拍照")]),a._v(" "),e("pre",[e("code",[a._v('                    //参数\n                    let params = {\n                        maxWidth:1000, //图片最大宽度\n                        maxHeight:1000,//图片最小宽度\n                        quality: 70,   //图片质量 30~100\n                        //location: true,  //是开启定位，true为开启，false为关闭\n                    };\n                    //调用前置相机\n                    fox.device.callCamera("front",(code,message,data)=>{\n                        if (code == 0) {\n                            data = JSON.parse(data);\n                            if (data.base64Data) {\n                                var imgData = "data:image/png;base64," + data.base64Data;\n                                //设置图片\n                                 this.m_img=imgData;\n                            } else {\n                                //设置图片\n                                this.m_img=data.path;\n                            }\n                        } else {\n                            fox.layer.open("拍照失败,message:" + message);\n                        }\n                    },params);\n')])]),a._v(" "),e("h4",{attrs:{id:"后置拍照"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#后置拍照"}},[a._v("#")]),a._v(" 后置拍照")]),a._v(" "),e("pre",[e("code",[a._v('                    //参数\n                    let params = {\n                        maxWidth:1000, //图片最大宽度\n                        maxHeight:1000,//图片最小宽度\n                        quality: 70,      //图片质量 30~100\n                        //location: true,  //是开启定位，true为开启，false为关闭\n                    };\n                    //调用后置相机\n                    fox.device.callCamera("back", (code,message,data)=>{\n                        if (code == 0) {\n                            data = JSON.parse(data);\n                            if (data.base64Data) {\n                                let imgData = "data:image/png;base64," + data.base64Data;\n                                //设置图片\n                                this.m_img=imgData;\n                            } else {\n                                //设置图片\n                                this.m_img=data.path;\n                            }\n                        } else {\n                            fox.layer.open("拍照失败,message:" + message);\n                        }\n                    },params);\n')])]),a._v(" "),e("h4",{attrs:{id:"返回base64数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#返回base64数据"}},[a._v("#")]),a._v(" 返回Base64数据")]),a._v(" "),e("pre",[e("code",[a._v('                    //参数\n                    let params = {\n                        maxWidth:1000, //图片最大宽度\n                        maxHeight:1000,//图片最小宽度\n                        quality: 70,    //图片质量 30~100\n                        base64: true    //base64格式\n                    };\n                    //调用后置相机\n                    fox.device.callCamera("back",(code,message,data)=>{\n                        if (code == 0) {\n                            data = JSON.parse(data);\n                            if (data.base64Data) {\n                                let imgData = "data:image/png;base64," + data.base64Data;\n                                //设置图片\n                                this.m_img = imgData;\n                            } else {\n                                //设置图片\n                                this.m_img = data.path;\n                            }\n                        } else {\n                            fox.layer.open("拍照失败,message:" + message);\n                        }\n                    },params);\n')])]),a._v(" "),e("h3",{attrs:{id:"_1-2-录音"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-录音"}},[a._v("#")]),a._v(" 1.2 录音")]),a._v(" "),e("p",[e("strong",[a._v("type：audio")])]),a._v(" "),e("p",[e("strong",[a._v("API:")]),a._v("\nfox.device.callAudio(action,callback,params)\n参数：")]),a._v(" "),e("ul",[e("li",[a._v("action： startRecorder-开始录音，stopRecorder-停止录音，reRecorder-重新录音")]),a._v(" "),e("li",[a._v("callback： 回调函数\ncallbck(code,message,data)，回调参数code：0-成功，1-取消，2-错误，message：错误信息，data：回调结果")]),a._v(" "),e("li",[a._v("params：参数")])]),a._v(" "),e("h4",{attrs:{id:"开始录音"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开始录音"}},[a._v("#")]),a._v(" 开始录音")]),a._v(" "),e("pre",[e("code",[a._v('                    this.recorderDisabled=true;\n                    //参数列表\n                    let params = {\n                        maxDuration: 60000\n                    };\n                    //开始录音\n                    fox.device.callAudio("startRecorder",(code, message, data)=>{\n                        if (code == 0) {\n                            data = JSON.parse(data);\n                            //保存路径\n                            this.path = data.path;\n                            fox.logger.info("录音成功，path:"+vm.path);\n                            fox.layer.open("录音成功");\n                        }else{\n                            fox.layer.open("录音失败");\n                        }\n                        this.recorderDisabled=false;\n                    },params);\n')])]),a._v(" "),e("h4",{attrs:{id:"停止录音"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#停止录音"}},[a._v("#")]),a._v(" 停止录音")]),a._v(" "),e("pre",[e("code",[a._v(' fox.device.callAudio("stopRecorder");\n')])]),a._v(" "),e("h4",{attrs:{id:"重新录音"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重新录音"}},[a._v("#")]),a._v(" 重新录音")]),a._v(" "),e("pre",[e("code",[a._v(' //重新录音\n fox.device.callAudio("reRecorder");\n')])]),a._v(" "),e("h3",{attrs:{id:"_1-3-录像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-录像"}},[a._v("#")]),a._v(" 1.3 录像")]),a._v(" "),e("p",[e("strong",[a._v("type：video")])]),a._v(" "),e("p",[e("strong",[a._v("API:")]),a._v("\nfox.device.callVideo(action,callback,params)\n参数：")]),a._v(" "),e("ul",[e("li",[a._v("action： startRecorder-开始录像")]),a._v(" "),e("li",[a._v("callback： 回调函数\ncallbck(code,message,data)，回调参数code：0-成功，1-取消，2-错误，message：错误信息，data：回调结果")]),a._v(" "),e("li",[a._v("params：参数")])]),a._v(" "),e("h4",{attrs:{id:"开始录像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开始录像"}},[a._v("#")]),a._v(" 开始录像")]),a._v(" "),e("pre",[e("code",[a._v('                    //参数列表\n                    let params = {\n                        quality: 0,      //录像 0：低质量 1：高质量\n                        maxDuration: -1\n                    };\n                    //开始录音\n                     fox.device.callVideo("startRecorder",(code, message, data)=>{\n                        if (code == 0) {\n                            data = JSON.parse(data);\n                            //保存路径\n                            vm.path = data.path;\n                            fox.logger.info("录像成功，path:"+vm.path);\n                            fox.layer.open("录像成功");\n                        }else{\n                            fox.layer.open("录像失败");\n                        }\n                    },params);\n')])]),a._v(" "),e("h3",{attrs:{id:"_1-4-签名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-签名"}},[a._v("#")]),a._v(" 1.4 签名")]),a._v(" "),e("p",[e("strong",[a._v("type：sign")])]),a._v(" "),e("p",[e("strong",[a._v("API:")]),a._v("\nfox.device.callSign(callback,params)\n参数：")]),a._v(" "),e("ul",[e("li",[a._v("callback： 回调函数\ncallbck(code,message,data)，回调参数code：0-成功，1-取消，2-错误，message：错误信息，data：回调结果")]),a._v(" "),e("li",[a._v("params：参数")])]),a._v(" "),e("h4",{attrs:{id:"调用签名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调用签名"}},[a._v("#")]),a._v(" 调用签名")]),a._v(" "),e("pre",[e("code",[a._v('                    //签名测试\n                    fox.device.callSign((code, message, data)=> {\n                        if(code==0){\n                            fox.layer.open("调用签名成功");\n                        }else if(code==1){\n                            fox.layer.open("调用签名取消");\n                        }else{\n                            fox.layer.open("调用签名错误");\n                        }\n                    })\n')])]),a._v(" "),e("h4",{attrs:{id:"_1-5-指纹仪"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-指纹仪"}},[a._v("#")]),a._v(" 1.5 指纹仪")]),a._v(" "),e("p",[e("strong",[a._v("type：fp")])]),a._v(" "),e("p",[e("strong",[a._v("API:")]),a._v("\nfox.device.callFp(callback,params)\n参数：")]),a._v(" "),e("ul",[e("li",[a._v("callback： 回调函数\ncallbck(code,message,data)，回调参数code：0-成功，1-取消，2-错误，message：错误信息，data：回调结果")]),a._v(" "),e("li",[a._v("params：参数")])]),a._v(" "),e("h4",{attrs:{id:"调用指纹仪"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调用指纹仪"}},[a._v("#")]),a._v(" 调用指纹仪")]),a._v(" "),e("pre",[e("code",[a._v(' //指纹仪\n fox.device.callFp("collect",function (code, message, data) {\n                      if (code == 0) {\n                          fox.layer.open("指纹仪调用成功:" + data);\n                      } else {\n                          fox.layer.open("指纹仪调用失败:" + message);\n                      }\n                  })\n')])]),a._v(" "),e("h3",{attrs:{id:"_1-6-ocr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-ocr"}},[a._v("#")]),a._v(" 1.6 OCR")]),a._v(" "),e("p",[e("strong",[a._v("type：ocr")])]),a._v(" "),e("p",[e("strong",[a._v("API:")]),a._v("\nfox.device.callOcr(action, callback, params)\n参数：")]),a._v(" "),e("ul",[e("li",[a._v("action 动作")]),a._v(" "),e("li",[a._v("callback： 回调函数\ncallbck(code,message,data)，回调参数code：0-成功，1-取消，2-错误，message：错误信息，data：回调结果")]),a._v(" "),e("li",[a._v("params：参数")])]),a._v(" "),e("h4",{attrs:{id:"调用ocr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调用ocr"}},[a._v("#")]),a._v(" 调用OCR")]),a._v(" "),e("pre",[e("code",[a._v('                //OCR\n                fox.device.callOcr("back",function (code, message, data) {\n                    if (code == 0) {\n                        fox.layer.open("ocr调用成功:" + JSON.stringify(data));\n                    } else {\n                        fox.layer.open("ocr调用失败:" + message);\n                    }\n                },{cover:false})\n              },\n')])]),a._v(" "),e("h3",{attrs:{id:"_1-7-人脸识别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-人脸识别"}},[a._v("#")]),a._v(" 1.7 人脸识别")]),a._v(" "),e("p",[e("strong",[a._v("type：face")])]),a._v(" "),e("p",[e("strong",[a._v("API:")]),a._v("\nfox.device.callFace(action, callback, params)\n参数：")]),a._v(" "),e("ul",[e("li",[a._v("action 动作")]),a._v(" "),e("li",[a._v("callback： 回调函数\ncallbck(code,message,data)，回调参数code：0-成功，1-取消，2-错误，message：错误信息，data：回调结果")]),a._v(" "),e("li",[a._v("params：参数")])]),a._v(" "),e("h4",{attrs:{id:"调用人脸识别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调用人脸识别"}},[a._v("#")]),a._v(" 调用人脸识别")]),a._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//人脸识别")]),a._v("\nfox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("device"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("callFace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"read"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[a._v("code"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" message"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" data")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("code "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        fox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"人脸识别调用成功:"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[a._v("JSON")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("stringify")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    \n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            fox"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("layer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("open")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"人脸识别调用失败:"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("+")]),a._v(" message"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("cover"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);