(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{595:function(a,s,t){"use strict";t.r(s);var n=t(1),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"fox3-0-android外壳新特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fox3-0-android外壳新特性"}},[a._v("#")]),a._v(" Fox3.0 Android外壳新特性")]),a._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#_1-fox3-0外壳介绍"}},[a._v("1.Fox3.0外壳介绍")])]),t("li",[t("a",{attrs:{href:"#_2-小程序导航"}},[a._v("2.小程序导航")]),t("ul",[t("li",[t("a",{attrs:{href:"#fox-navigator"}},[a._v("fox.navigator")])])])]),t("li",[t("a",{attrs:{href:"#_3-共享存储"}},[a._v("3.共享存储")])]),t("li",[t("a",{attrs:{href:"#_4-原生插件开发"}},[a._v("4.原生插件开发")])]),t("li",[t("a",{attrs:{href:"#_5-device插件开发"}},[a._v("5.Device插件开发")])]),t("li",[t("a",{attrs:{href:"#_6-native插件开发"}},[a._v("6.Native插件开发")])])])]),t("p"),a._v(" "),t("h2",{attrs:{id:"_1-fox3-0外壳介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-fox3-0外壳介绍"}},[a._v("#")]),a._v(" 1.Fox3.0外壳介绍")]),a._v(" "),t("p",[a._v("该版本的特点能支持多APP的独立运行，为每个APP提供独立的服务请求器和文件访问器，为超级APP而生。")]),a._v(" "),t("h2",{attrs:{id:"_2-小程序导航"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-小程序导航"}},[a._v("#")]),a._v(" 2.小程序导航")]),a._v(" "),t("h3",{attrs:{id:"fox-navigator"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fox-navigator"}},[a._v("#")]),a._v(" fox.navigator")]),a._v(" "),t("p",[a._v("打开、切换和关闭小程序，并且提供了小程序间通信功能")]),a._v(" "),t("h4",{attrs:{id:"打开小程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#打开小程序"}},[a._v("#")]),a._v(" 打开小程序")]),a._v(" "),t("p",[a._v("fox.navigator.open(id, name, appType, params, (code, message, data)=>{})"),t("br"),a._v(" "),t("strong",[a._v("参数说明")])]),a._v(" "),t("ul",[t("li",[a._v("id:唯一ID，该ID可用于切换或关闭小程序")]),a._v(" "),t("li",[a._v("name:小程序对应的工程名")]),a._v(" "),t("li",[a._v("appType: main_app(主应用)，h5_app(小程序应用，本地模式，web资源下载到本地)，web_app(小程序应用，BS模式)，other(主要用于打开第三方系统页面)，page(新窗口，用于MPA多页面模式)")]),a._v(" "),t("li",[a._v("params:参数，为json格式，主要参数有：\n{   cover:true //应用打开时候是否加载loading节目"),t("br"),a._v("\ncheckUpdate:false //应用打开是否是否启动检查更新机制   }")]),a._v(" "),t("li",[a._v("callbck:回调函数")])]),a._v(" "),t("h4",{attrs:{id:"切换小程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#切换小程序"}},[a._v("#")]),a._v(" 切换小程序")]),a._v(" "),t("p",[a._v("fox.navigator.change(id,(code, message, data)=>{})"),t("br"),a._v(" "),t("strong",[a._v("参数说明")])]),a._v(" "),t("ul",[t("li",[a._v("id:唯一ID，目标小程序的ID")]),a._v(" "),t("li",[a._v("callbck:回调函数")])]),a._v(" "),t("h4",{attrs:{id:"关闭小程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关闭小程序"}},[a._v("#")]),a._v(" 关闭小程序")]),a._v(" "),t("p",[a._v("fox.navigator.close(id,(code, message, data)=>{})"),t("br"),a._v(" "),t("strong",[a._v("参数说明")])]),a._v(" "),t("ul",[t("li",[a._v("id:唯一ID，目标小程序的ID")]),a._v(" "),t("li",[a._v("callbck:回调函数")])]),a._v(" "),t("h4",{attrs:{id:"回退小程序-关闭最上层一个小程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#回退小程序-关闭最上层一个小程序"}},[a._v("#")]),a._v(" 回退小程序(关闭最上层一个小程序)")]),a._v(" "),t("p",[a._v("fox.navigator.back((code,message,data)=>{})"),t("br"),a._v(" "),t("strong",[a._v("参数说明")])]),a._v(" "),t("ul",[t("li",[a._v("callbck:回调函数")])]),a._v(" "),t("h4",{attrs:{id:"小程序间通信"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#小程序间通信"}},[a._v("#")]),a._v(" 小程序间通信")]),a._v(" "),t("p",[a._v("fox.navigator.command(id, type, data)"),t("br"),a._v(" "),t("strong",[a._v("参数说明")])]),a._v(" "),t("ul",[t("li",[a._v("id  目标小程序ID")]),a._v(" "),t("li",[a._v("type 消息类型")]),a._v(" "),t("li",[a._v("data: 消息内容")])]),a._v(" "),t("h4",{attrs:{id:"小程序注册消息接收函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#小程序注册消息接收函数"}},[a._v("#")]),a._v(" 小程序注册消息接收函数")]),a._v(" "),t("p",[a._v("fox.navigator.registerMessageService(type,(type,data)=>{})"),t("br"),a._v(" "),t("strong",[a._v("参数说明")])]),a._v(" "),t("ul",[t("li",[a._v("type 消息类型")]),a._v(" "),t("li",[a._v("callback: 消息处理函数")])]),a._v(" "),t("h2",{attrs:{id:"_3-共享存储"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-共享存储"}},[a._v("#")]),a._v(" 3.共享存储")]),a._v(" "),t("p",[a._v("提供了小程序间数据共享机制")]),a._v(" "),t("p",[t("strong",[a._v("fox.shareBus")]),t("br"),a._v("\n该存储的数据结构为树状结构的数据篮子，分别提供数据存储、数据获取、数据修改和数据删除的接口")]),a._v(" "),t("p",[t("strong",[a._v("API")])]),a._v(" "),t("ul",[t("li",[a._v("put     增加数据")]),a._v(" "),t("li",[a._v("get     获取数据")]),a._v(" "),t("li",[a._v("remove   删除数据")])]),a._v(" "),t("p",[t("strong",[a._v("例子")])]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),t("blockquote"),a._v(" "),t("p",[a._v("//1.数据储存"),t("br"),a._v("\n//一层"),t("br"),a._v("\nlet data = {"),t("br"),a._v('\nid: "01",'),t("br"),a._v('\nname: "一层数据"'),t("br"),a._v("\n}"),t("br"),a._v("\n//保存数据"),t("br"),a._v('\nfox.bus.put("level", data);'),t("br"),a._v('\n//二层\nvar data2 = {\nid: "02",\nname: "二层数据"\n}\n//保存数据\nfox.shareBus.put("level", "level-2-1", data2);'),t("br"),a._v("\n//三层"),t("br"),a._v("\nlet data3 = {"),t("br"),a._v('\nid: "03",'),t("br"),a._v('\nname: "三层数据"'),t("br"),a._v("\n}"),t("br"),a._v("\n//保存数据"),t("br"),a._v('\nfox.shareBus.put("level", "level-2-2", "level-3", data3);'),t("br"),a._v("\n//2.数据获取"),t("br"),a._v('\nvar data = fox.shareBus.get("level");'),t("br"),a._v('\nalert("一层数据:" + JSON.stringify(data));'),t("br"),a._v('\nvar data2 = fox.shareBus.get("level", "level-2-1");'),t("br"),a._v('\nalert("二层数据:" + JSON.stringify(data2));'),t("br"),a._v('\nvar data3 = fox.shareBus.get("level", "level-2-2", "level-3");'),t("br"),a._v('\nalert("三层数据:" + JSON.stringify(data3))'),t("br"),a._v("\n//3数据修改"),t("br"),a._v("\nvar n=0;"),t("br"),a._v("\nn++;"),t("br"),a._v('\nvar data = fox.shareBus.get("level");'),t("br"),a._v('\ndata.name = data.name + ",修改次数:" + n;'),t("br"),a._v('\nvar data2 = fox.shareBus.get("level", "level-2-1");'),t("br"),a._v('\ndata2.name = data2.name + ",修改次数:" + n;'),t("br"),a._v('\nvar data3 = fox.shareBus.get("level", "level-2-2", "level-3");'),t("br"),a._v('\ndata3.name = data3.name + ",修改次数:" + n;'),t("br"),a._v('\n//4数据删除\nfox.shareBus.remove("level");')])]),a._v(" "),t("h2",{attrs:{id:"_4-原生插件开发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-原生插件开发"}},[a._v("#")]),a._v(" 4.原生插件开发")]),a._v(" "),t("ul",[t("li",[a._v("old： class HttpClient extends FXProxy")]),a._v(" "),t("li",[a._v("new： class HttpClient extends AProxy")])]),a._v(" "),t("p",[a._v("新的插件开发继承类改为AProxy，该对象的提供了下面方法")]),a._v(" "),t("ul",[t("li",[a._v("HttpRequester getHttpRequester() 小程序独立的HTTP访问器，为每个小程序隔离的session。")]),a._v(" "),t("li",[a._v("FileAccessor getFileAccessor()小程序独立的文件访问器，为每个小程序隔离的文件目录")])]),a._v(" "),t("h2",{attrs:{id:"_5-device插件开发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-device插件开发"}},[a._v("#")]),a._v(" 5.Device插件开发")]),a._v(" "),t("ul",[t("li",[a._v("old：")])]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("IDevice")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/**\n     * 外设调用\n     *\n     * @param type\n     * @param action\n     * @param param\n     * @param callbackContext\n     */")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("call")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" type"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" action"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" param"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ICallback")]),a._v(" callbackContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br")])]),t("ul",[t("li",[a._v("new：")])]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("IDevice")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/**\n     * 外设调用\n     *\n     * @param type\n     * @param action\n     * @param param\n     * @param callbackContext\n     * @param cite\n     */")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("call")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" type"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" action"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" param"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ICallback")]),a._v(" callbackContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Cite")]),a._v(" cite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br")])]),t("p",[a._v("新旧对比,新的call函数中新的多一个cite参数，该参数能够提供调用小程序独立的HttpRequester和FileAccessor")]),a._v(" "),t("ul",[t("li",[a._v("HttpRequester getHttpRequester() 小程序独立的HTTP访问器，为每个小程序隔离的session。")]),a._v(" "),t("li",[a._v("FileAccessor getFileAccessor()小程序独立的文件访问器，为每个小程序隔离的文件目录")])]),a._v(" "),t("h2",{attrs:{id:"_6-native插件开发"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-native插件开发"}},[a._v("#")]),a._v(" 6.Native插件开发")]),a._v(" "),t("ul",[t("li",[a._v("old：")])]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("INative")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/**\n     * navie调用\n     *\n     * @param action\n     * @param param\n     * @param callbackContext\n     */")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("call")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" action"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" param"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ICallback")]),a._v(" callbackContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])]),t("ul",[t("li",[a._v("new：")])]),a._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("interface")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("INative")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/**\n     * native调用\n     *\n     * @param action\n     * @param param\n     * @param callbackContext\n     * @param cite\n     */")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("call")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" action"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" param"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ICallback")]),a._v(" callbackContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Cite")]),a._v(" cite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br")])]),t("p",[a._v("新旧对比,新的call函数中新的多一个cite参数，该参数能够提供调用小程序独立的HttpRequester和FileAccessor")]),a._v(" "),t("ul",[t("li",[a._v("HttpRequester getHttpRequester() 小程序独立的HTTP访问器，为每个小程序隔离的session。")]),a._v(" "),t("li",[a._v("FileAccessor getFileAccessor()小程序独立的文件访问器，为每个小程序隔离的文件目录")])])])}),[],!1,null,null,null);s.default=e.exports}}]);